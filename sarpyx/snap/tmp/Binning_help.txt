OPERATOR: Binning
----------------------------------------
Usage:
  gpt Binning [options] 

Description:
  Performs spatial and temporal aggregation of pixel values into cells ('bins') of a planetary grid


Parameter Options:
  -PmaskExpr=<string>                                The band maths expression used to filter input pixels
  -PmaxDistanceOnEarth=<integer>                     Skips binning of sub-pixel if distance on earth to the center of the main-pixel is larger as this value. A value <=0 disables this check
                                                     Default value is '-1'.
  -PmetadataAggregatorName=<string>                  The type of metadata aggregation to be used. Possible values are:
                                                     'NAME': aggregate the name of each input product
                                                     'FIRST_HISTORY': aggregates all input product names and the processing history of the first product
                                                     'ALL_HISTORIES': aggregates all input product names and processing histories
                                                     Default value is 'NAME'.
  -PmetadataPropertiesFile=<file>                    The name of the file containing metadata key-value pairs (google "Java Properties file format").
                                                     Default value is './metadata.properties'.
  -PmetadataTemplateDir=<file>                       The name of the directory containing metadata templates (google "Apache Velocity VTL format").
                                                     Default value is '.'.
  -PminDataHour=<double>                             A sensor-dependent constant given in hours of a day (0 to 24)
                                                     at which a sensor has a minimum number of observations at the date line (the 180 degree meridian).
                                                     Only used if parameter 'dataDayMode' is set to 'SPATIOTEMPORAL_DATADAY'. This is usually the equator crossing time (ECT)
                                                     Valid interval is [0,24].
  -PnumRows=<int>                                    Number of rows in the (global) planetary grid. Must be even.
                                                     Default value is '2160'.
  -PoutputBinnedData=<boolean>                       If true, a SeaDAS-style, binned data NetCDF file is written in addition to the
                                                     target product. The output file name will be {target}-bins.nc
                                                     Default value is 'false'.
  -PoutputFile=<string>                              Sets parameter 'outputFile' to <string>.
  -PoutputFormat=<string>                            Sets parameter 'outputFormat' to <string>.
                                                     Default value is 'BEAM-DIMAP'.
  -PoutputMappedProduct=<boolean>                    If true, a mapped product is written. Set this to 'false' if only a binned product is needed.
                                                     Default value is 'true'.
  -PoutputType=<string>                              Sets parameter 'outputType' to <string>.
                                                     Value must be one of 'Product', 'RGB', 'Grey'.
                                                     Default value is 'Product'.
  -PperiodDuration=<double>                          Duration of the binning period in days.
  -PplanetaryGridClass=<string>                      Sets parameter 'planetaryGridClass' to <string>.
                                                     Default value is 'org.esa.snap.binning.support.SEAGrid'.
  -Pregion=<geometry>                                The considered geographical region as a geometry in well-known text format (WKT).
                                                     If not given, the geographical region will be computed according to the extents of the input products.
  -PsourceGraphPaths=<string,string,string,...>      A comma-separated list of file paths specifying the source graphs.
                                                     Each path may contain the wildcards '**' (matches recursively any directory),
                                                     '*' (matches any character sequence in path names) and
                                                     '?' (matches any single character).
  -PsourceProductFormat=<string>                     The common product format of all source products.
                                                     This parameter is optional and may be used in conjunction with
                                                     parameter 'sourceProductPaths'. Can be set if multiple reader are 
                                                     available for the source files and a specific one shall be used.Try "NetCDF-CF", "GeoTIFF", "BEAM-DIMAP", or "ENVISAT", etc.
  -PsourceProductPaths=<string,string,string,...>    A comma-separated list of file paths specifying the source products.
                                                     Each path may contain the wildcards '**' (matches recursively any directory),
                                                     '*' (matches any character sequence in path names) and
                                                     '?' (matches any single character).
  -PstartDateTime=<string>                           The UTC start date of the binning period.
                                                     The format is either 'yyyy-MM-dd HH:mm:ss' or 'yyyy-MM-dd'.
                                                      If only the date part is given, the time 00:00:00 is assumed.
                                                     Pattern for valid values is '\d{4}-\d{2}-\d{2}(\s\d{2}:\d{2}:\d{2})?'.
  -PsuperSampling=<integer>                          The square of the number of pixels used for super-sampling an input pixel into multiple sub-pixels
                                                     Default value is '1'.
  -PtimeFilterMethod=<timeFilterMethod>              The method that is used to decide which source pixels are used with respect to their observation time.
                                                     'NONE': ignore pixel observation time, use all source pixels.
                                                     'TIME_RANGE': use all pixels that have been acquired in the given binning period.
                                                     'SPATIOTEMPORAL_DATA_DAY': use a sensor-dependent, spatial "data-day" definition with the goal
                                                     to minimise the time between the first and last observation contributing to the same bin in the given binning period.
                                                     The decision, whether a source pixel contributes to a bin or not, is a function of the pixel's observation longitude and time.
                                                     Requires the parameter 'minDataHour'.
                                                     Default value is 'NONE'.

Graph XML Format:
  <graph id="someGraphId">
    <version>1.0</version>
    <node id="someNodeId">
      <operator>Binning</operator>
      <sources>
        <sourceProducts>${sourceProducts}</sourceProducts>
      </sources>
      <parameters>
        <sourceProductPaths>string,string,string,...</sourceProductPaths>
        <sourceProductFormat>string</sourceProductFormat>
        <sourceGraphPaths>string,string,string,...</sourceGraphPaths>
        <region>geometry</region>
        <startDateTime>string</startDateTime>
        <periodDuration>double</periodDuration>
        <timeFilterMethod>timeFilterMethod</timeFilterMethod>
        <minDataHour>double</minDataHour>
        <numRows>int</numRows>
        <superSampling>integer</superSampling>
        <maxDistanceOnEarth>integer</maxDistanceOnEarth>
        <maskExpr>string</maskExpr>
        <variables>
          <variable>
            <name>string</name>
            <expr>string</expr>
            <validExpr>string</validExpr>
          </variable>
          <_.002e../>
        </variables>
        <aggregators>aggregatorConfig,aggregatorConfig,aggregatorConfig,...</aggregators>
        <postProcessor/>
        <outputType>string</outputType>
        <outputFile>string</outputFile>
        <outputFormat>string</outputFormat>
        <outputBands>
          <band>
            <index>string</index>
            <name>string</name>
            <minValue>string</minValue>
            <maxValue>string</maxValue>
          </band>
          <_.002e../>
        </outputBands>
        <productCustomizer/>
        <outputBinnedData>boolean</outputBinnedData>
        <outputMappedProduct>boolean</outputMappedProduct>
        <metadataPropertiesFile>file</metadataPropertiesFile>
        <metadataTemplateDir>file</metadataTemplateDir>
        <metadataAggregatorName>string</metadataAggregatorName>
        <planetaryGridClass>string</planetaryGridClass>
      </parameters>
    </node>
  </graph>
